# Регистры

На самом деле, [`snake`][textcase.snake], [`kebab`][textcase.kebab] и т. д. **не являются функциями**.
Они являются экземплярами класса [`Case`][textcase.Case], который реализовал
[`object.__call__`][object.__call__] dunder метод для удобства: [`Case.__call__`][textcase.Case.__call__].
Этот декларативный синтаксис позволяет гибко описывать текстовые случаи, сохраняя при этом всю функциональность.

Вы можете увидеть полный список всех встроенных случаев в [Спецификации API][textcase].

??? note "Как работает преобразование регистра?"

    Преобразование регистра происходит в три этапа:

    1. **Разделение**:
       входной `text` делится на слова путем сканирования границ.
       Границы — это условия (или разделители), которые сигнализируют, где заканчивается одно слово и начинается другое.
       Например, граница может обнаружить [подчеркивание][textcase.UNDERSCORE],
       [изменение со строчных букв на заглавные][textcase.LOWER_UPPER],
       или даже переход [цифра-буква][textcase.DIGIT_LOWER].
       Каждый раз, когда обнаруживается граница, строка разделяется в этой позиции.
    2. **Преобразование**:
       после того, как `text` разделен на слова, применяется [`transform`][textcase.Case.transform].
       Эта функция ([которую вы можете настроить](#создание-кастомных-регистров)) определяет, как будет преобразовано каждое слово.
       Например, к каждому слову можно применить преобразование [lowercase][str.lower], [capitalization][str.capitalize]
       или полностью [пользовательское преобразование](#создание-кастомных-регистров).
    3. **Объединение**:
       наконец, преобразованные слова [объединяются][str.join] обратно вместе с помощью
       определенного [`delimiter`][textcase.Case.delimiter]. Этот [`delimiter`][textcase.Case.delimiter]
       специфичен для стиля регистра (например, подчеркивания (`#!py "_"`)
       для регистра [`snake`][textcase.snake] или дефисы (`#!py "-"`) для регистра [`kebab`][textcase.kebab]).

    Результатом является входной текст, преобразованный в нужный регистр.

## Создание кастомных регистров

Подобно [`Boundary`][textcase.Boundary], есть класс [`Case`][textcase.Case],
который позволяет вам определить пользовательский регистр, который ведёт себя как встроенный:

```py title="cases/custom_case.py" linenums="1" hl_lines="5 7-8"
--8<-- "docs/.snippets/cases/custom_case.py"
```

1. :smile: Поскольку `dot` является экземпляром [Case][textcase.Case], он уже преобразует текст в регистр `dot` — просто
   [вызовите][textcase.Case.__call__] его как функцию! :tada:
2. :smile: Для `dot` вам не нужно писать пользовательскую функцию для проверки регистра;
   просто используйте его метод [`match`][textcase.Case.match]! :tada:
3. :smile: Опять же, используя метод [match][textcase.Case.match] `dot`, вы можете легко проверить,
   находится ли строка в регистре `dot` без какого-либо дополнительного кода! :tada:

Чтобы узнать больше о создании кастомного регистра с нуля, взгляните на класс [`Case`][textcase.Case].
